= vimwiki备忘 =

== 基本的键盘操作 ==

* <Leader>ww    -- Open default wiki index file.
* <Leader>wt    -- Open default wiki index file in a new tab.
* <Leader>ws    -- Select and open wiki index file.
* <Leader>wd    -- Delete wiki file you are in.
* <Leader>wr    -- Rename wiki file you are in.
* <Enter>       -- Follow/Create wiki link.
* <Shift-Enter> -- Split and follow/create wiki link.
* <Ctrl-Enter>  -- Vertical split and follow/create wiki link.
* <Backspace>   -- Go back to parent(previous) wiki link.
* <Tab>         -- Find next wiki link.
* <Shift-Tab>   -- Find previous wiki link.

要查看其它的按键说明，命令行运行`:h vimwiki-mappings`。


== 常用的命令 ==

* :Vimwiki2HTML          -- Convert current wiki link to HTML.
* :VimwikiAll2HTML       -- Convert all your wiki links to HTML.
* :help vimwiki-commands -- List all commands.
* :help vimwiki          -- General vimwiki help docs.


== 常用的语法速查 ==

命令行运行：`:h vimwiki-syntax`。

=== 特殊的语法备忘 ===

==== 文字图片环绕 ====

{{local:images/pic.png|说明文字|class="floatright"}}图片右边，文字左边
可以换行，使用相对路径，便于导出后的html在别的机器上能找到图片。

{{file:images/pic.png|说明文字|class="floatleft"}}图片左边，文字右边
可以换行，使用绝对路径，导出后的html到别的机器上可能不方便找到图片。

{{file:images/pic.png|说明文字}}普通的情况。

上面三种情况都建议导出后的源文件和html文件都需要存在，不然不方便找到图片。

==== 导出的附件说明 ====

除图片意外的其它附件请手动拷贝到`html`目录中去。

比如下面这个嵌入的`svg`就需要手动拷贝到`html`目录中去。

<object type="image/svg+xml" data="test.svg"></object>

==== svg的原生支持 ====

<object type="image/svg+xml" data="test.svg"></object>

==== 样式表 ====

导出目录中的`qq_style.css`需要手动放置。建议可以直接使用`cmd`创建一个到项目目
录的符号链接即可。但是验证发现创建的符号链接无法生效，原因未知。可能是因为
网页的`css`不能是一个链接吧。

==== 导出注意事项 ====

导出的时候还有个问题需要特别注意下，需要去`index.wiki`所在的顶级目录去导。
不要在子目录去导。


=== 常规语法 ===

==== 给文字加颜色 ====

<span style="color:red;">这段文字是红色的</span>
<span style="color:blue;">这段文字是蓝色的</span>
<span style="color:#00FF00;">这段文字是绿色的</span>


== 关于Tagbar的集成 ==

命令行运行 `:h vimwiki-tagbar`


== 样式优化 ==

1. 在`vim`的配置文件中启动样式标签。

{{{vim
let g:vimwiki_valid_html_tags = 'b,i,s,u,sub,sup,kbd,br,p,pre,span'
}}}

2. 在插件默认的`autoload`目录下的`style.css`中有一个标签需要美化。
    `font-family`的最前面加上我们的可以支持中文的等宽字体：`sarasa mono sc`。

{{{css
pre {
  border-left: 5px solid #dcdcdc;
  background-color: #f5f5f5;
  padding-left: 1em;
  font-family: "sarasa mono sc", Monaco, "Courier New", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", monospace;
  font-size: 0.8em;
  border-radius: 6px;
}
}}}

3. 在`style.css`的最后可以加上下面这个，让正文也保留编辑器中的样式。

{{{css
p {
  margin: 0 !important;
  font-family:"sarasa mono sc" !important;
  white-space: pre !important;
}
}}}

